
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title></title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
    <style type="text/css">
        .tooltip {
            width:219px;
            height:33px;
        }
        .tooltip a {
            width:219px;
            height:33px;
            display:block;
        }
    </style>
    <script type="text/javascript">
        select(document, tanchu); 
/*=select[[ 
* 
* 跨浏览器选中文字事件 
* @param 
* object o 响应选中事件的DOM对象，required 
* function fn(sText,target,mouseP)选中文字非空时的回调函数，required 
* |-@param 
* |-sText 选中的文字内容 
* |-target 触发mouseup事件的元素 
* |-mouseP 触发mouseup事件时鼠标坐标 
*/ 
		function select(o, fn){ 
			o.onmouseup = function(e){ 
			var event = window.event || e; 
			var target = event.srcElement ? event.srcElement : event.target; 
			if (/input|textarea/i.test(target.tagName) && /firefox/i.test(navigator.userAgent)) { 
				//Firefox在文本框内选择文字 
				var staIndex=target.selectionStart; 
				var endIndex=target.selectionEnd; 
				if(staIndex!=endIndex){ 
					var sText=target.value.substring(staIndex,endIndex); 
					fn(sText,target); 
				} 
			} 
			else{ 
				//获取选中文字 
				var sText = document.selection == undefined ? document.getSelection().toString():document.selection.createRange().text; 
				if (sText != "") { 
					//将参数传入回调函数fn 
					fn(sText, target); 
				} 
			} 
			} 
		} 
	/*]]select=*/ 
		function tanchu(txt,tar){ 
			alert("文字属于"+tar.tagName+"元素，选中内容为："+txt); 
		} 
    </script>
</head>
<body>
	<textarea cols="60" rows="8">
	asp、php、asp.net、javascript、jquery、vbscript、dos
	</textarea>
</body>
</html>
